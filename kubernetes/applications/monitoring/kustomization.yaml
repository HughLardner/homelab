---
# Kustomization for Victoria Metrics Monitoring Stack
# Includes VM CRDs and Grafana IngressRoute
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: monitoring

resources:
  # Grafana ingress and certificate
  - ingressroute.yaml

  # Victoria Metrics CRDs (deployed after operator is ready)
  - vmsingle.yaml
  - vmagent.yaml
  - vmalert.yaml
  - vmalertmanager.yaml

  # Scrape configurations
  - vm-scrape-configs.yaml

  # Grafana dashboard ConfigMaps (auto-loaded by sidecar)
  - dashboards-configmaps.yaml

  # Grafana MCP service account setup (for AI assistant integration)
  - grafana-mcp-setup.yaml
  - secrets/grafana-mcp-sealed.yaml
