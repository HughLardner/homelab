---
# Filestash Configuration
# Pre-configures S3 backend for Garage
apiVersion: v1
kind: ConfigMap
metadata:
  name: filestash-config
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/name: filestash
data:
  # Filestash configuration
  # See: https://www.filestash.app/docs/configuration/
  config.json: |
    {
      "general": {
        "name": "Homelab S3 Browser",
        "port": 8334,
        "host": "0.0.0.0",
        "secret_key": "",
        "force_ssl": false,
        "editor": "emacs",
        "fork_button": false,
        "display_hidden": false,
        "refresh_after_upload": true,
        "upload_button": true
      },
      "log": {
        "enable": true,
        "level": "INFO",
        "telemetry": false
      },
      "features": {
        "share": {
          "enable": true,
          "redirect": ""
        },
        "protection": {
          "iframe": false,
          "enable": true,
          "zip_timeout": 60
        }
      },
      "connections": []
    }

